{"version":3,"sources":["assets/images/logo.png","serviceWorker.js","state/index.js","assets/components/navigation.js","constants/calls/GraphQL.js","constants/operatives.js","constants/calls/REST.js","constants/parameters.js","constants/palette.js","assets/components/charts/spline.js","assets/components/charts/bar.js","routes/poll.js","routes/feed.js","utils/getWeb3.js","routes/new.js","App.js","index.js"],"names":["module","exports","__webpack_require__","p","Boolean","window","location","hostname","match","initialState","proposals","store","createContext","Provider","Navigation","react_default","a","createElement","className","href","src","logo","getProposals","_getProposals","apply","this","arguments","_callee","result","indexedObject","regenerator_default","wrap","_context","prev","next","console","log","fetch","method","headers","Content-Type","Accept","body","JSON","stringify","query","then","r","json","data","catch","error","sent","newProposalIssueds","forEach","obj","id","Object","objectSpread","abrupt","stop","getProposalData","_x","_getProposalData","_callee2","ProposalName","_context2","chartId","str","toConsumableArray","substring","reduceRight","res","_","__","arr","concat","splice","Math","random","length","join","sortVotes","_yesVotes","_noVotes","totalVotes","sort","b","unshift","getVoteInfo","_getVoteInfo","proposalData","anonymousDeposits","noDeposits","voters","totalValue","i","yesValue","noValue","newYesValue","newNoValue","Choice","parseFloat","ContriValue","undefined","SenderAddr","yesTotalValue","noTotalValue","getQuadraticTotals","_x2","_getQuadraticTotals","yes","no","noUniqueAdresses","key","voter","t0","keys","t1","done","value","hasOwnProperty","sqrt","yesCount","noCount","CALL","_address","getTransactions","_getTransactions","_type","burnTransactions","response","tx","push","WEEKDAYS","CHARTS","BAR_CONFIG","_data","_range","type","responsive","labels","datasets","borderColor","borderWidth","fill","options","legend","display","scales","xAxes","scaleLabel","labelString","ticks","suggestedMin","max","callback","label","index","toExponential","SPLINE_CONFIG","lineTension","bezierCurve","yAxes","min","gridLines","drawOnChartArea","SPLINE_STYLE","_gradient","backgroundColor","borderDash","borderDashOffset","pointBackgroundColor","pointBorderColor","pointHoverBackgroundColor","pointBorderWidth","pointHoverRadius","pointHoverBorderWidth","pointRadius","Spline","props","useEffect","yesVotes","noVotes","dataArray","maxValue","minValue","maxRange","ceil","minRange","ctx","document","getElementById","getContext","range","gradientStroke","createLinearGradient","labelArray","slice","addColorStop","Chart","composeAndRender","react","Bar","maximumValue","Poll","_useState","useState","_useState2","slicedToArray","pollRecords","setRecords","_useState3","_useState4","pollCount","setCount","_useState5","_useState6","graphState","setGraphState","_useState7","_useState8","setUnique","_useState9","_useState10","setPledged","_useState11","_useState12","pollTopic","setTopic","state","useContext","address","useParams","_ref","asyncToGenerator","mark","_state$proposals$id","name","optionAaddr","optionBaddr","voteInfo","quadraticInfo","_uniqueAddresses","uniqueAddresses","getMetadata","Row","Col","sm","md","size","offset","class","bar","spline","Feed","map","proposalId","react_router_dom","to","poll","loadWeb3","resolve","reject","web3","_web","provider","_web2","ethereum","Web3","enable","providers","HttpProvider","getWeb3","Promise","readyState","addEventListener","NewVote","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","accounts","contract","componentDidMount","instance","eth","getAccounts","Contract","abi","setState","alert","makeNewVote","bind","assertThisInitialized","updateQuestion","updateDeadline","question","deadline","methods","newVoteProposal","Date","now","send","from","event","target","placeholder","onChange","onClick","Component","constant","inputs","outputs","payable","stateMutability","anonymous","indexed","withRouter","_useContext","dispatch","proposalStream","payload","retrieveProposals","Container","components_navigation","react_router","path","component","exact","New","ReactDOM","render","children","_useReducer","useReducer","action","_useReducer2","basename","src_App","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.48d859bf.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.0a58105d.png\";","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React, { createContext, useReducer } from 'react';\n\nconst initialState = { proposals: [] }\nconst store = createContext(initialState)\nconst { Provider } = store\n\nconst StateProvider = ( { children } ) => {\n  const [state, dispatch] = useReducer((state, action) => {\n    switch(action.type) {\n      case 'PROPOSAL':\n        return { ...state, proposals: action.payload }\n      default:\n        return state\n    };\n  }, initialState)\n\n  return <Provider value={{ state, dispatch }}>{children}</Provider>;\n};\n\nexport { store, StateProvider }\n","import React, { Component } from 'react'\nimport { Dropdown, DropdownToggle } from \"reactstrap\"\n\nimport logo from \"../images/logo.png\"\n\nfunction Navigation() {\n\n  return(\n    <nav className=\"navbar navbar-expand-lg fixed-top \">\n      <div className=\"container-fluid\">\n        <div className=\"navbar-wrapper\">\n          <a className=\"navbar-brand\" href={'/'}>\n            <img className=\"navbar-logo\" src={logo} />\n            <span className=\"navbar-title\"> Burn Signal </span>\n          </a>\n        </div>\n        <div className=\"collapse navbar-collapse justify-content-end\">\n          <ul className=\"navbar-nav\">\n            <li className=\"nav-item\">\n              <a className=\"nav-link\" href={'/'}>\n                 Notifications <i className=\"nav-icon tim-icons icon-bell-55\"></i>\n              </a>\n            </li>\n            <li className=\"nav-item\">\n              <a className=\"nav-link\" href={'/'}>\n                 Login <i className=\"nav-login-icon tim-icons icon-minimal-down\"></i>\n              </a>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </nav>\n  )\n}\n\nexport default Navigation\n","// Code to retrieve info from The Graph. Should make easier to change to TypeScript.\n// Exisiting subgraph at: https://thegraph.com/explorer/subgraph/madhur4444/imgovdynamic\n// https://api.thegraph.com/subgraphs/name/madhur4444/imgovdynamic\n// Useful docs: https://thegraph.com/docs/graphql-api\n\n\nexport async function getProposals() {\n  // Gets all issued proposals\n  // Currently name_not_contains: \"fae\" to avoid old proposals with unrealistic votes.\n  console.log('TheGraph - getProposals()');\n  const query = `{\n    newProposalIssueds(where: { name_not_contains: \"fae\" }) {\n      id\n      issuer\n      deadline\n      name\n      data\n      optionBaddr\n      optionAaddr\n    }\n  }`;\n\n  const result = await fetch('https://api.thegraph.com/subgraphs/name/madhur4444/imgovdynamic', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      'Accept': 'application/json',\n    },\n    body: JSON.stringify({\n      query\n    })\n  }).then(r => r.json()).then(data => data).catch(error => console.log(error))\n  console.log('TheGraph - got Proposals.');\n\n  const indexedObject = {}\n\n  result.data.newProposalIssueds.forEach(obj => {\n    indexedObject[obj.id] = {\n      ...obj\n    }\n    delete indexedObject.id;\n  });\n\n  return indexedObject;\n};\n\nexport async function getProposalData(ProposalName){\n  // Get information for specific Proposal identified by name.\n  console.log('GetProposalData(): ' + ProposalName)\n\n  // Gets all deposits for this proposal\n  const query = `{ anonymousDeposits (where: {PropName: \"` + ProposalName + `\"}) {\n      id\n      SenderAddr\n      ContriValue\n      PropName\n      Choice\n    }\n  }`;\n\n  const result = await fetch('https://api.thegraph.com/subgraphs/name/madhur4444/imgovdynamic', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      'Accept': 'application/json',\n    },\n    body: JSON.stringify({\n      query\n    })\n  }).then(r => r.json()).then(data => data).catch(error => console.log(error))\n\n  return result;\n}\n","export const chartId = str => [...str.substring(0, 10)].reduceRight((res,_,__,arr) => [...res,arr.splice(~~(Math.random()*arr.length),1)[0]],[]).join('');\n\nexport const sortVotes = (_yesVotes, _noVotes) => {\n  let totalVotes = _yesVotes.concat(_noVotes);\n\n  totalVotes.sort((a,b) => { return a - b });\n  totalVotes.unshift(0);\n\n  return totalVotes;\n}\n\n// Code to process vote info. Should be easy to replace.\n// This is where BrightID check will be added.\n\nexport async function getVoteInfo(proposalData){\n  var anonymousDeposits = proposalData.data.anonymousDeposits;\n  var noDeposits = anonymousDeposits.length;\n  var voters = {};\n  var totalValue = 0;\n\n  // Check all the deposits for proposal\n  for(var i = 0;i < noDeposits;i++){\n\n    var yesValue = 0, noValue = 0;\n\n    // Add BrightID check. Don't count vote if not.??\n\n    if(anonymousDeposits[i].Choice === 'yes'){\n      yesValue = parseFloat(anonymousDeposits[i].ContriValue);\n    } else {\n      noValue = parseFloat(anonymousDeposits[i].ContriValue);\n    }\n\n    // Check if address has already been counted & initialise if not\n    if(voters[anonymousDeposits[i].SenderAddr] === undefined){\n      voters[anonymousDeposits[i].SenderAddr] = { yesTotalValue: yesValue, noTotalValue: noValue };\n    }else{\n      var newYesValue = voters[anonymousDeposits[i].SenderAddr].yesTotalValue + yesValue;\n      var newNoValue = voters[anonymousDeposits[i].SenderAddr].noTotalValue + noValue;\n      voters[anonymousDeposits[i].SenderAddr] = { yesTotalValue: newYesValue, noTotalValue: newNoValue };\n    }\n\n    totalValue += parseFloat(anonymousDeposits[i].ContriValue);\n  }\n\n  return { voters: voters, totalValue: totalValue}\n}\n\nexport async function getQuadraticTotals(voters){\n  // Quadratic method.\n  // Calculate quadratic total for each voter\n  var yes = 0;\n  var no = 0;\n  var noUniqueAdresses = 0;\n  var totalValue = 0;\n  for(var key in voters){\n    // skip loop if the property is from prototype\n    if (!voters.hasOwnProperty(key)) continue;\n\n    var voter = voters[key];\n    yes += Math.sqrt(voter.yesTotalValue);\n    no += Math.sqrt(voter.noTotalValue);\n    noUniqueAdresses += 1;\n    totalValue = totalValue + voter.yesTotalValue + voter.noTotalValue;\n  }\n  return {\n    yesCount: yes,\n    noCount: no,\n    noUniqueAdresses: noUniqueAdresses,\n    totalValue: totalValue\n  };\n}\n","const API_KEY = \"5HPMW9M7DTMYBGP9IXR2M8JNUGEM2HNNDI\";\n\nconst CALL = (_address) => (`https://api-rinkeby.etherscan.io/api?module=account&action=txlist&address=${_address}&page=1&offset=0&sort=asc&apikey=${API_KEY}`);\n\nexport async function getTransactions(_address, _type) {\n  let burnTransactions  = [];\n\n  await fetch(CALL(_address), {\n    method: 'GET'\n  }).then(response => {\n    return response.json()\n  }).then(data => {\n      data.result.forEach(tx => {\n        if(parseFloat(tx.value) > 0){\n          burnTransactions.push(\n            !_type ? (-1) * parseFloat(tx.value) : parseFloat(tx.value),\n          );\n        }\n      });\n  }); return burnTransactions;\n}\n","import { PINK_PRIMARY, BLUE_PRIMARY, RED_PRIMARY } from \"./palette.js\"\n\nexport const WEEKDAYS =  ['Monday', 'Tuesday', 'Wendsday', 'Thursday', 'Friday', 'Saturday', 'Sunday' ]\n\nexport const CHARTS = {\n  BAR_CONFIG: (_data, _range) => ({\n    type: 'horizontalBar',\n    responsive: true,\n    data: {\n      labels: ['Yes','No' ],\n      datasets: [{\n        data: _data,\n        borderColor: [ BLUE_PRIMARY, RED_PRIMARY ],\n        borderWidth: 2,\n        fill: true\n      }]\n    },\n    options: {\n      legend: { display: false },\n      scales: {\n        xAxes: [{\n          scaleLabel: {\n            display: true,\n            labelString: \"Wei (ETH)\"\n          },\n          ticks: {\n            suggestedMin: 0,\n            max: _range,\n            callback: function(label, index, labels) {\n              if(label > 1e8 || label < (-1 * 1e8)){\n                 return label.toExponential()\n              } else return label;\n            }\n          }\n        }]\n      },\n    }\n  }),\n  SPLINE_CONFIG: (_data, _range) => ({\n    options: {\n      lineTension: 100,\n      bezierCurve: true,\n      legend: { display: false },\n      scales: {\n        yAxes: [{\n          id:'yAxis1',\n          scaleLabel: {\n            labelString: \"Wei (ETH)\",\n            display: true\n          },\n          ticks: {\n            min: (_range * -1),\n            max: _range,\n            callback: function(label, index, labels) {\n              if(label > 1e8 || label < (-1 * 1e8)){\n                return label.toExponential()\n              } else return label;\n            }\n          }\n        },\n        {\n          id:'yAxis2',\n          labels: ['', 'Yes', '', 'No', ''],\n          type:\"category\",\n          gridLines: {\n           drawOnChartArea: false,\n           display: false\n          },\n       }]\n      },\n    },\n    type: 'line',\n    data: _data,\n  }),\n  SPLINE_STYLE: _gradient => ({\n    label: \"Data\",\n    fill: true,\n    backgroundColor: _gradient,\n    borderColor: PINK_PRIMARY,\n    borderWidth: 2,\n    borderDash: [],\n    borderDashOffset: 0.0,\n    pointBackgroundColor: PINK_PRIMARY,\n    pointBorderColor:'rgba(255,255,255,0)',\n    pointHoverBackgroundColor: PINK_PRIMARY,\n    pointBorderWidth: 20,\n    pointHoverRadius: 4,\n    pointHoverBorderWidth: 15,\n    pointRadius: 4,\n  })\n}\n","export const PURPLE_PRIMARY = \"#7533ff\";\nexport const BLUE_PRIMARY = \"#338aff\";\nexport const RED_PRIMARY = \"#ff4233\";\nexport const PINK_PRIMARY = \"#d048b6\";\n","import React, { Fragment, useEffect, useState } from 'react'\nimport Chart from 'chart.js'\n\nimport { WEEKDAYS, CHARTS } from \"../../../constants/parameters.js\"\nimport { sortVotes } from \"../../../constants/operatives.js\"\n\nfunction Spline(props){\n  let { chartId } = props\n\n  useEffect(() => {\n    const composeAndRender = () => {\n      let { yesVotes, noVotes } = props\n\n      const dataArray = sortVotes(yesVotes, noVotes)\n\n      var maxValue = Math.max(...dataArray)\n      var minValue = Math.min(...dataArray)\n      var maxRange = Math.ceil((((maxValue * 0.2) + maxValue) /10 ) * 10)\n      var minRange = Math.ceil((((minValue * 0.2) + minValue) /10 ) * 10) * -1\n\n      const ctx = document.getElementById(chartId).getContext(\"2d\")\n\n      let range = minRange > maxRange ? minRange : maxRange\n\n      var gradientStroke = ctx.createLinearGradient(0,337.5,0, 25)\n      var labelArray = WEEKDAYS.slice(0, dataArray.length)\n\n      gradientStroke.addColorStop(1, 'rgba(255,51,138,0.225)')\n      gradientStroke.addColorStop(0.7, 'rgba(255,51,138,0.2)')\n      gradientStroke.addColorStop(0.5, 'rgba(255,51,138,0.125)')\n      gradientStroke.addColorStop(0.2, 'rgba(255,51,138,0.075)')\n      gradientStroke.addColorStop(0, 'rgba(119,52,169,0)')\n\n      var data = {\n        labels: labelArray,\n        datasets: [{\n          ...CHARTS.SPLINE_STYLE(gradientStroke),\n          data: dataArray,\n        }]\n      }\n\n      new Chart(ctx, { ...CHARTS.SPLINE_CONFIG(data, range) })\n    }\n    composeAndRender()\n  }, [ props ])\n\n  return(\n    <Fragment>\n      <canvas id={chartId}> </canvas>\n    </Fragment>\n  )\n}\n\nexport default Spline;\n","import React, { Fragment, useEffect, useState } from 'react'\nimport Chart from 'chart.js';\n\nimport { CHARTS } from \"../../../constants/parameters.js\";\n\nfunction Bar(props) {\n  const { chartId } = props;\n\n  useEffect(() => {\n    const composeAndRender = () => {\n      let { yesCount, noCount } = props;\n\n      const ctx = document.getElementById(chartId).getContext(\"2d\")\n      const maximumValue = yesCount > noCount ? yesCount : noCount\n      const range = ( maximumValue * 0.20 ) + maximumValue\n      const data = [ yesCount, noCount];\n\n      new Chart(ctx, { ...CHARTS.BAR_CONFIG(data, range) })\n    }\n    composeAndRender()\n  }, [ props ])\n\n  return(\n    <Fragment>\n      <canvas id={chartId}> </canvas>\n    </Fragment>\n  );\n}\n\nexport default Bar;\n","import React, { Fragment, useContext, useState, useEffect } from 'react';\nimport { useParams } from \"react-router-dom\"\nimport { Row, Col } from \"reactstrap\"\n\nimport { getVoteInfo, getQuadraticTotals } from '../constants/operatives'\nimport { getProposalData } from \"../constants/calls/GraphQL\"\nimport { getTransactions } from \"../constants/calls/REST\"\nimport { chartId } from \"../constants/operatives\"\nimport { store } from '../state'\n\nimport Spline from '../assets/components/charts/spline'\nimport Bar from '../assets/components/charts/bar'\n\nimport \"../assets/css/proposal.css\"\n\nfunction Poll(props){\n  const [ pollRecords, setRecords ] = useState({ yes: [], no: [] })\n  const [ pollCount, setCount ] = useState({ yes: [], no: [] })\n  const [ graphState, setGraphState ] = useState(false)\n  const [ uniqueAddresses, setUnique ] = useState(0)\n  const [ totalPledged, setPledged ] = useState(0)\n  const [ pollTopic , setTopic ] = useState(\"\")\n\n  let { state } = useContext(store)\n  let { address } = useParams()\n\n  const id = props.location !== undefined ? address : props.id\n\n  useEffect(() => {\n    const getMetadata = async() => {\n      if(Object.keys(state.proposals).length > 0){\n        let { name, optionAaddr, optionBaddr } = state.proposals[id]\n\n        var proposalData = await getProposalData(name)\n        var voteInfo = await getVoteInfo(proposalData)\n        var quadraticInfo = await getQuadraticTotals(voteInfo.voters)\n        var noVotes = await getTransactions(optionBaddr, false)\n        var yesVotes = await getTransactions(optionAaddr, true)\n\n        let { noCount, yesCount, uniqueAddresses, totalValue } = quadraticInfo\n\n        setRecords({ yes: yesVotes, no: noVotes })\n        setCount({ yes: yesCount, no: noCount })\n        setUnique(uniqueAddresses)\n        setPledged(totalValue)\n        setGraphState(true)\n        setTopic(name)\n      }\n    }\n    getMetadata()\n  }, [ props ])\n\n  return(\n     <div className=\"proposalComponent\">\n      <Row>\n        <Col sm=\"12\" md={{ size: 8, offset: 2 }}>\n          <div className=\"card\">\n            <div className=\"card-header\">\n              <div className=\"proposal-title\">{pollTopic}</div>\n            </div>\n            <div className=\"card-body\">\n              <div className=\"github-detail\">See GitHub for full details:</div>\n              <div className=\"vote-options\">\n                <button className=\"btn btn-primary btn-simple\">Yes</button>\n                <button className=\"btn btn-primary btn-simple\">No</button>\n              </div>\n            </div>\n          </div>\n        </Col>\n      </Row>\n      <Row>\n        <Col sm=\"12\" md={{ size: 8, offset: 2 }}>\n          <div className=\"card\">\n            <div class=\"card-header\">\n              <h3 class=\"card-category\">Results</h3>\n            </div>\n            <div className=\"card-body\">\n              {graphState && (\n                <Bar\n                  chartId={chartId(id)}\n                  yesCount={pollCount.yes}\n                  noCount={pollCount.no}/>\n              )}\n            </div>\n          </div>\n        </Col>\n      </Row>\n      <Row>\n        <Col sm=\"12\" md={{ size: 8, offset: 2 }}>\n          <div className=\"card\">\n            <div class=\"card-header\">\n              <h3 class=\"card-category\">History</h3>\n            </div>\n            <div class=\"card-body\">\n              {graphState && (\n                <Spline\n                  chartId={chartId(id)}\n                  yesVotes={pollRecords.yes}\n                  noVotes={pollRecords.no}\n                />\n              )}\n            </div>\n          </div>\n        </Col>\n      </Row>\n     </div>\n  )\n}\n\nexport default Poll\n","import React, { Fragment, useContext, useEffect } from 'react';\nimport { Route, Link } from 'react-router-dom'\n\nimport { store } from '../state'\nimport Proposal from './poll';\n\nfunction Feed() {\n  let { state } = useContext(store)\n\n  return (\n    <Fragment>\n      {Object.keys(state.proposals).map((proposalId, index) => (\n        <Link to={`/poll/${proposalId}`}>\n          <Proposal key={proposalId} id={proposalId}/>\n        </Link>\n      ))}\n    </Fragment>\n  )\n}\n\nexport default Feed\n","import Web3 from \"web3\";\n\nconst getWeb3 = () =>\n  new Promise((resolve, reject) => {\n\n    // This is to get round routing issue\n    if(document.readyState === \"complete\"){\n      loadWeb3(resolve, reject);\n      console.log('Web3 Loaded Ok');\n    }\n\n    // Wait for loading completion to avoid race conditions with web3 injection timing.\n    window.addEventListener(\"load\", async () => {\n      loadWeb3(resolve, reject);\n      console.log('Web3 Loaded.');\n    });\n  });\n\nasync function loadWeb3(resolve, reject){\n  // Modern dapp browsers...\n  if (window.ethereum) {\n    const web3 = new Web3(window.ethereum);\n    try {\n      // Request account access if needed\n      await window.ethereum.enable();\n      // Acccounts now exposed\n      resolve(web3);\n    } catch (error) {\n      reject(error);\n    }\n  }\n  // Legacy dapp browsers...\n  else if (window.web3) {\n    // Use Mist/MetaMask's provider.\n    const web3 = window.web3;\n    console.log(\"Injected web3 detected.\");\n    resolve(web3);\n  }\n  // Fallback to localhost; use dev console port by default...\n  else {\n    const provider = new Web3.providers.HttpProvider(\n      \"http://127.0.0.1:8545\"\n    );\n    const web3 = new Web3(provider);\n    console.log(\"No web3 instance injected, using Local web3.\");\n    resolve(web3);\n  }\n}\n\nexport default getWeb3;\n","import React, { Component } from 'react';\nimport getWeb3 from \"../utils/getWeb3\";\n\nclass NewVote extends Component {\n  // Allows user to create a new Proposal/Question/Vote/Whatever it's agreed to be called.\n  // Uses hardcoded contract address.\n  // Deadline not currently functioning.\n  state = { web3: null, accounts: null, contract: null };\n\n  constructor(props) {\n    super(props);\n\n    this.makeNewVote = this.makeNewVote.bind(this);\n    this.updateQuestion = this.updateQuestion.bind(this);\n    this.updateDeadline = this.updateDeadline.bind(this);\n  }\n\n  componentDidMount = async () => {\n    try {\n      console.log('Loading web3...');\n      // Get network provider and web3 instance.\n      const web3 = await getWeb3();\n\n      // Use web3 to get the user's accounts.\n      const accounts = await web3.eth.getAccounts();\n\n\n      let address = '0x6936b81d7629378aabddcf882b2a7fdfff1cd962';  // Taken from old repo, assume this is the Ropstein deployed\n\n      const instance = new web3.eth.Contract(abi, address);\n\n      // Set web3, accounts, and contract to the state, and then proceed with an\n      // example of interacting with the contract's methods.\n      this.setState({ web3, accounts, contract: instance });\n\n    } catch (error) {\n      alert(\n        'Error loading The Graph',\n      );\n      console.error(error);\n    }\n  };\n\n  async makeNewVote(){\n    console.log('New Vote');\n    console.log(this.state.question);\n    console.log(this.state.deadline);\n    console.log('Sending transaction...');\n    await this.state.contract.methods.newVoteProposal(this.state.question,'Here is some data', (Date.now() + 3600*1000)).send({ from: this.state.accounts[0] });\n    console.log('Done?')\n  }\n\n  updateQuestion(event) {\n    this.setState({question: event.target.value});\n  }\n\n  updateDeadline(event) {\n    this.setState({deadline: event.target.value});\n  }\n\n  render() {\n    return(\n\n      <div className=\"App\">\n\n        <div className=\"main-panel\">\n\n            <div className=\"content\">\n              <div className=\"row\">\n                <div className=\"col-md-6\">\n                  <div className=\"card\">\n                    <div className=\"card-header\">\n                      <h5 className=\"title\">Ask a question...</h5>\n                    </div>\n                    <div className=\"card-body\">\n                      <form>\n\n                        <div className=\"row\">\n                          <div className=\"col-md-12 pr-md-1\">\n                            <div className=\"form-group\">\n                              <label>Your Question</label>\n                              <input type=\"text\" className=\"form-control\" placeholder=\"Ask Away\" onChange={this.updateQuestion}/>\n                            </div>\n                          </div>\n\n                        </div>\n                        <div className=\"row\">\n                          <div className=\"col-md-12 pr-md-1\">\n                            <div className=\"form-group\">\n                              <label>Deadline</label>\n                              <input type=\"text\" className=\"form-control\" placeholder=\"Block No\"  onChange={this.updateDeadline}/>\n                            </div>\n                          </div>\n                        </div>\n\n                      </form>\n                    </div>\n                    <div className=\"card-footer\">\n                      <button type=\"submit\" className=\"btn btn-fill btn-primary\" onClick={this.makeNewVote}>Post</button>\n                    </div>\n                  </div>\n                </div>\n\n              </div>\n            </div>\n\n        </div>\n      </div>\n\n    )\n\n  }\n}\n\nexport default NewVote;\n\nvar abi = [\n  {\n   \"constant\": false,\n   \"inputs\": [\n    {\n     \"name\": \"_name\",\n     \"type\": \"string\"\n    },\n    {\n     \"name\": \"_data\",\n     \"type\": \"string\"\n    },\n    {\n     \"name\": \"_deadline\",\n     \"type\": \"uint64\"\n    }\n   ],\n   \"name\": \"newVoteProposal\",\n   \"outputs\": [\n    {\n     \"name\": \"\",\n     \"type\": \"uint256\"\n    }\n   ],\n   \"payable\": false,\n   \"stateMutability\": \"nonpayable\",\n   \"type\": \"function\"\n  },\n  {\n   \"inputs\": [],\n   \"payable\": false,\n   \"stateMutability\": \"nonpayable\",\n   \"type\": \"constructor\"\n  },\n  {\n   \"anonymous\": false,\n   \"inputs\": [\n    {\n     \"indexed\": false,\n     \"name\": \"proposalID\",\n     \"type\": \"uint256\"\n    },\n    {\n     \"indexed\": false,\n     \"name\": \"issuer\",\n     \"type\": \"address\"\n    },\n    {\n     \"indexed\": false,\n     \"name\": \"deadline\",\n     \"type\": \"uint256\"\n    },\n    {\n     \"indexed\": false,\n     \"name\": \"name\",\n     \"type\": \"string\"\n    },\n    {\n     \"indexed\": false,\n     \"name\": \"data\",\n     \"type\": \"string\"\n    }\n   ],\n   \"name\": \"newProposalIssued\",\n   \"type\": \"event\"\n  },\n  {\n   \"constant\": true,\n   \"inputs\": [\n    {\n     \"name\": \"\",\n     \"type\": \"uint256\"\n    }\n   ],\n   \"name\": \"proposals\",\n   \"outputs\": [\n    {\n     \"name\": \"issuer\",\n     \"type\": \"address\"\n    },\n    {\n     \"name\": \"deadline\",\n     \"type\": \"uint256\"\n    },\n    {\n     \"name\": \"name\",\n     \"type\": \"string\"\n    },\n    {\n     \"name\": \"data\",\n     \"type\": \"string\"\n    }\n   ],\n   \"payable\": false,\n   \"stateMutability\": \"view\",\n   \"type\": \"function\"\n  }\n ]\n","import React, { Fragment, useContext, useEffect } from \"react\";\nimport {  Route, HashRouter, withRouter } from 'react-router-dom'\nimport { Container } from \"reactstrap\"\n\nimport \"./assets/libs/black-dashboard/assets/css/black-dashboard-react.css\"\nimport \"./assets/libs/black-dashboard/assets/css/nucleo-icons.css\"\nimport \"./assets/css/navigation.css\"\n\nimport Navigation from './assets/components/navigation'\n\nimport { getProposals } from \"./constants/calls/GraphQL\"\nimport { store } from './state'\n\nimport Poll from './routes/poll'\nimport Feed from './routes/feed'\nimport New from './routes/new'\n\nfunction App() {\n  let { dispatch, state } = useContext(store)\n\n  useEffect(() => {\n    const retrieveProposals = async() => {\n      var proposalStream = await getProposals()\n      dispatch({\n        payload: proposalStream,\n        type: \"PROPOSAL\"\n      })\n    }\n    retrieveProposals()\n  }, [])\n\n  return (\n    <main>\n      <Container>\n        <Navigation />\n        <Route path=\"/poll/:address\" component={Poll} />\n        <Route exact path=\"/\" component={Feed} />\n        <Route path=\"/new\" component={New} />\n      </Container>\n    </main>\n  );\n}\n\nexport default withRouter(App);\n","import React, { Fragment } from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { HashRouter, Route } from 'react-router-dom'\nimport * as serviceWorker from './serviceWorker'\n\nimport { StateProvider } from './state'\nimport App from './App';\n\nReactDOM.render(\n  <StateProvider>\n    <HashRouter basename='/'>\n      <Fragment>\n        <App />\n      </Fragment>\n    </HashRouter>\n  </StateProvider>,\n  document.getElementById('root')\n);\n\nserviceWorker.unregister()\n"],"sourceRoot":""}